(this.webpackJsonpbattleshipv2=this.webpackJsonpbattleshipv2||[]).push([[0],{14:function(t,e,a){},15:function(t,e,a){"use strict";a.r(e);var n=a(1),i=a(0),r=a(7),s=a.n(r),c=a(3),o=(a(6),a(4)),l=function(t){return Object(n.jsxs)("div",{className:"center-align welcome",children:[Object(n.jsx)(o.a.h1,{initial:{y:-300},animate:{y:0},transition:{delay:.5},children:"Welcome"}),Object(n.jsxs)(o.a.p,{initial:{x:-800},animate:{x:0},transition:{delay:.5,stiffness:70,type:"spring"},children:["The goal of the game is to destroy all ",Object(n.jsx)("br",{}),"of the enemy ships before he destroy yours! ",Object(n.jsx)("br",{}),"if your attack hit, you can attack again. ",Object(n.jsx)("br",{}),"if you miss, its your oponent turn! ",Object(n.jsx)("br",{}),"Good Luck, Have Fun"]}),Object(n.jsx)(o.a.button,{initial:{y:5e3},animate:{y:0},transition:{delay:.5},onClick:t.playGame,className:"waves-effect waves-light btn",children:"Play!"})]})},h=a(2),d=a.n(h),j=function(t){return Object(n.jsxs)("div",{className:"parent center-align",children:[Object(n.jsx)("h3",{className:"current-player",children:"Player"}),Object(n.jsx)("div",{className:"grid-container",children:t.playerBoard.map((function(e,a){return Object(n.jsx)("div",{className:"center-align",children:e.map((function(e,i){return"sea"===t.playerBoard[a][i]?Object(n.jsx)("div",{"data-col":a,"data-row":i,onClick:t.attack,className:"squares "},d()()):"object"===typeof t.playerBoard[a][i]?Object(n.jsx)("div",{"data-col":a,"data-row":i,className:"ship center-align",onClick:t.attack},d()()):"hit"===t.playerBoard[a][i]?Object(n.jsx)("div",{"data-col":a,"data-row":i,className:"hit center-align"},d()()):Object(n.jsx)("div",{"data-col":a,"data-row":i,className:"attacked center-align"},d()())}))},d()())}))})]})},u=function(t){return Object(n.jsxs)("div",{className:"parent center-align",children:[Object(n.jsx)("h3",{className:"current-player",children:"Computer"}),Object(n.jsx)("div",{className:"grid-container",children:t.computerBoard.map((function(e,a){return Object(n.jsx)("div",{className:"center-align",children:e.map((function(e,i){return"sea"===t.computerBoard[a][i]?Object(n.jsx)("div",{"data-col":a,"data-row":i,onClick:t.attack,className:"squares "},d()()):"object"===typeof t.computerBoard[a][i]?Object(n.jsx)("div",{"data-col":a,"data-row":i,className:"squares center-align",onClick:t.attack},d()()):"hit"===t.computerBoard[a][i]?Object(n.jsx)("div",{"data-col":a,"data-row":i,className:"hit center-align"},d()()):"attacked"===t.computerBoard[a][i]?Object(n.jsx)("div",{"data-col":a,"data-row":i,className:"attacked center-align"},d()()):void 0}))},d()())}))})]})},b=function(t){return{hitPoints:new Array(t).fill("o"),hit:function(){var t=this.hitPoints.indexOf("o");return this.hitPoints[t]="x"},isSunk:function(){return!!this.hitPoints.every((function(t){return"x"===t}))}}},f=function(t,e){return{board:new Array(e).fill().map((function(){return new Array(t).fill("sea")})),ships:[b(2),b(2),b(3),b(3),b(4),b(5)],placeShip:function(){var t,e,a=this,n=!0,i=Math.floor(10*Math.random());this.ships.forEach((function(r,s){var c=!1;for(i>5&&(n=!1);!c;){if(n&&(t=Math.floor(Math.random()*(a.board.length-r.hitPoints.length)),e=Math.floor(Math.random()*a.board.length),"sea"===a.board[t][e])){for(var o=1,l=1;l<r.hitPoints.length;l++)"sea"===a.board[t+l][e]&&o++;if(o===r.hitPoints.length){for(var h=0;h<r.hitPoints.length;h++)a.board[t+h][e]=r;return!0}}if(!n&&(t=Math.floor(Math.random()*a.board.length),e=Math.floor(Math.random()*(a.board.length-r.hitPoints.length)),"sea"===a.board[t][e])){for(var d=1,j=1;j<r.hitPoints.length;j++)"sea"===a.board[t][e+j]&&d++;if(d===r.hitPoints.length){for(var u=0;u<r.hitPoints.length;u++)a.board[t][e+u]=r;return!0}}}return c}))},receiveAttack:function(t,e){if("sea"===this.board[t][e]&&(this.board[t][e]="attacked"),"object"===typeof this.board[t][e]){var a=this.board[t][e],n=this.ships.indexOf(a);if(this.board[t][e]="hit",this.ships[n].hit(),this.ships[n].isSunk()&&this.ships.splice(n,1),0===this.ships.length)return"winner"}return this.board[t][e]}}},m=(a(14),function(t){return Object(n.jsxs)(o.a.div,{initial:{opacity:0,rotate:180},animate:{opacity:1,rotate:0},transition:{duration:2,type:"spring",stiffness:200},className:"center-align win-container",children:[Object(n.jsxs)("h1",{className:"center-align",children:[t.player?"Player Wins!":"Computer Wins!"," "]}),Object(n.jsx)("p",{children:"Thanks for playing!"}),Object(n.jsx)("button",{className:"waves-effect waves-ligth btn",onClick:t.newGame,children:"Play Again ?"})]})}),p=function(t){return Object(n.jsx)("button",{className:"random btn waves-effect waves-red",onClick:t.randomizeShip,children:"Randomize"})},O=function(t){return Object(n.jsx)("div",{className:"remaining-ships",children:t.ships.map((function(t){return Object(n.jsx)("div",{className:"ship-left",children:t.hitPoints.map((function(t){return"o"===t?Object(n.jsx)("div",{className:"square-left"}):Object(n.jsx)("div",{className:"square-hit"})}))})}))})};var v=function(){var t=Object(i.useState)(!0),e=Object(c.a)(t,2),a=e[0],r=e[1],s=Object(i.useState)(f(9,9)),o=Object(c.a)(s,2),h=o[0],d=o[1],b=Object(i.useState)(f(9,9)),v=Object(c.a)(b,2),g=v[0],x=v[1],y=Object(i.useState)(!1),k=Object(c.a)(y,2),N=k[0],w=k[1],M=Object(i.useState)(!0),P=Object(c.a)(M,2),S=P[0],B=P[1],C=Object(i.useState)(!1),A=Object(c.a)(C,2),T=A[0],q=A[1],E=Object(i.useState)(!1),G=Object(c.a)(E,2),z=G[0],H=G[1],W=Object(i.useState)(!0),J=Object(c.a)(W,2),F=J[0],I=J[1],L=Object(i.useState)(""),R=Object(c.a)(L,2),D=R[0],K=R[1],Q=function t(){if(!S){for(var e=Math.floor(Math.random()*h.board.length),a=Math.floor(Math.random()*h.board.length);("attacked"===h.board[e][a]||"hit"===h.board[e][a])&&!T;)e=Math.floor(Math.random()*h.board.length),a=Math.floor(Math.random()*h.board.length);h.receiveAttack(e,a),setTimeout((function(){if("attacked"===h.receiveAttack(e,a))B(!0),K("Computer Miss!");else{if(K("Computer Hits!"),w(!0),0===h.ships.length)return void q(!0);setTimeout((function(){t()}),500)}}),1e3)}};return Object(i.useEffect)((function(){Q()}),[S]),Object(i.useEffect)((function(){w(!1)}),[N]),Object(i.useEffect)((function(){!1===F&&h.placeShip()}),[h]),Object(n.jsx)("div",{children:a?Object(n.jsx)(l,{playGame:function(){r(!1),h.placeShip(),g.placeShip(),I(!1)}}):T?Object(n.jsx)(m,{player:S,newGame:function(){q(!1),r(!0),I(!0),H(!1),d(f(9,9)),x(f(9,9))}}):Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h1",{className:"center-align",children:S?"Player's Turn!":"Computer's Turn"}),Object(n.jsx)("p",{className:"center-align",children:D}),Object(n.jsxs)("div",{className:"board-grid",children:[Object(n.jsx)(j,{playerBoard:h.board,winner:T}),Object(n.jsx)(u,{computerBoard:g.board,winner:T,attack:function(t){if(S){H(!0);var e=t.target.getAttribute("data-col"),a=t.target.getAttribute("data-row");g.receiveAttack(e,a),"hit"===g.receiveAttack(e,a)?(K("Player Hit!"),w(!0),0===g.ships.length&&q(!0)):(K("Player Miss!"),B(!1))}}}),z?null:Object(n.jsx)(p,{randomizeShip:function(){!1===F&&(d(f(9,9)),w(!0))}}),Object(n.jsx)(O,{ships:g.ships})]})]})})};s.a.render(Object(n.jsx)(v,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.2a06cd16.chunk.js.map