(this.webpackJsonpbattleshipv2=this.webpackJsonpbattleshipv2||[]).push([[0],{13:function(t,e,a){},17:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a(1),c=a(5),i=a.n(c),s=a(3),o=(a(7),function(t){return Object(n.jsxs)("div",{className:"center-align welcome",children:[Object(n.jsx)("h1",{children:"Welcome"}),Object(n.jsx)("p",{children:"The goal of the game is to destroy all"}),Object(n.jsx)("p",{children:"of the enemy ships before he destroy yours!"}),Object(n.jsx)("p",{children:"if your attack hit, you can attack again."}),Object(n.jsx)("p",{children:"if you miss, its your oponent turn!"}),Object(n.jsx)("p",{children:"Good Luck, Have Fun!"}),Object(n.jsx)("button",{onClick:t.playGame,className:"waves-effect waves-light btn",children:"Play!"})]})}),l=a(2),h=a.n(l),d=function(t){return Object(n.jsxs)("div",{className:"parent center-align",children:[Object(n.jsx)("h3",{className:"current-player",children:"Player"}),Object(n.jsx)("div",{className:"grid-container",children:t.playerBoard.map((function(e,a){return Object(n.jsx)("div",{className:"center-align",children:e.map((function(e,r){return"sea"===t.playerBoard[a][r]?Object(n.jsx)("div",{"data-col":a,"data-row":r,onClick:t.attack,className:"squares "},h()()):"object"===typeof t.playerBoard[a][r]?Object(n.jsx)("div",{"data-col":a,"data-row":r,className:"ship center-align",onClick:t.attack},h()()):"hit"===t.playerBoard[a][r]?Object(n.jsx)("div",{"data-col":a,"data-row":r,className:"hit center-align"},h()()):Object(n.jsx)("div",{"data-col":a,"data-row":r,className:"attacked center-align"},h()())}))},h()())}))})]})},u=function(t){return Object(n.jsxs)("div",{className:"parent center-align",children:[Object(n.jsx)("h3",{className:"current-player",children:"Computer"}),Object(n.jsx)("div",{className:"grid-container",children:t.computerBoard.map((function(e,a){return Object(n.jsx)("div",{className:"center-align",children:e.map((function(e,r){return"sea"===t.computerBoard[a][r]?Object(n.jsx)("div",{"data-col":a,"data-row":r,onClick:t.attack,className:"squares "},h()()):"object"===typeof t.computerBoard[a][r]?Object(n.jsx)("div",{"data-col":a,"data-row":r,className:"squares center-align",onClick:t.attack},h()()):"hit"===t.computerBoard[a][r]?Object(n.jsx)("div",{"data-col":a,"data-row":r,className:"hit center-align"},h()()):"attacked"===t.computerBoard[a][r]?Object(n.jsx)("div",{"data-col":a,"data-row":r,className:"attacked center-align"},h()()):void 0}))},h()())}))})]})},j=function(t){return{hitPoints:new Array(t).fill("o"),hit:function(){var t=this.hitPoints.indexOf("o");return this.hitPoints[t]="x"},isSunk:function(){return!!this.hitPoints.every((function(t){return"x"===t}))}}},b=function(t,e){return{board:new Array(e).fill().map((function(){return new Array(t).fill("sea")})),ships:[j(2),j(3),j(4),j(5)],placeShip:function(){var t,e,a=this,n=!0,r=Math.floor(10*Math.random());this.ships.forEach((function(c,i){var s=!1;for(console.log(c.hitPoints),r>5&&(n=!1);!s;){if(n&&(t=Math.floor(Math.random()*(a.board.length-c.hitPoints.length)),e=Math.floor(Math.random()*a.board.length),"sea"===a.board[t][e])){for(var o=1,l=1;l<c.hitPoints.length;l++)"sea"===a.board[t+l][e]&&o++;if(o===c.hitPoints.length){for(var h=0;h<c.hitPoints.length;h++)a.board[t+h][e]=c;return!0}}if(!n&&(t=Math.floor(Math.random()*a.board.length),e=Math.floor(Math.random()*(a.board.length-c.hitPoints.length)),"sea"===a.board[t][e])){for(var d=1,u=1;u<c.hitPoints.length;u++)"sea"===a.board[t][e+u]&&d++;if(d===c.hitPoints.length){for(var j=0;j<c.hitPoints.length;j++)a.board[t][e+j]=c;return!0}}}return s}))},receiveAttack:function(t,e){if("sea"===this.board[t][e]&&(this.board[t][e]="attacked"),"object"===typeof this.board[t][e]){var a=this.board[t][e],n=this.ships.indexOf(a);if(this.board[t][e]="hit",this.ships[n].hit(),this.ships[n].isSunk()&&this.ships.splice(n,1),0===this.ships.length)return"winner"}return this.board[t][e]}}},f=(a(13),function(t){return Object(n.jsxs)("div",{className:"center-align win-container",children:[Object(n.jsxs)("h1",{className:"center-align",children:[t.player?"Player Wins!":"Computer Wins!"," "]}),Object(n.jsx)("p",{children:"Thanks for playing!"}),Object(n.jsx)("button",{className:"waves-effect waves-ligth btn",onClick:t.newGame,children:"Play Again ?"})]})}),p=function(t){return Object(n.jsx)("button",{className:"random btn waves-effect waves-red",onClick:t.randomizeShip,children:"Randomize"})};a(14);var m=function(){var t=Object(r.useState)(!0),e=Object(s.a)(t,2),a=e[0],c=e[1],i=Object(r.useState)(b(9,9)),l=Object(s.a)(i,2),h=l[0],j=l[1],m=Object(r.useState)(b(9,9)),O=Object(s.a)(m,2),g=O[0],v=O[1],x=Object(r.useState)(!1),y=Object(s.a)(x,2),k=y[0],w=y[1],N=Object(r.useState)(!0),M=Object(s.a)(N,2),P=M[0],S=M[1],B=Object(r.useState)(!1),C=Object(s.a)(B,2),A=C[0],T=C[1],E=Object(r.useState)(!1),G=Object(s.a)(E,2),q=G[0],z=G[1],H=Object(r.useState)(!0),W=Object(s.a)(H,2),J=W[0],F=W[1],I=Object(r.useState)(""),L=Object(s.a)(I,2),R=L[0],D=L[1],K=function t(){if(!P){for(var e=Math.floor(Math.random()*h.board.length),a=Math.floor(Math.random()*h.board.length);("attacked"===h.board[e][a]||"hit"===h.board[e][a])&&!A;)e=Math.floor(Math.random()*h.board.length),a=Math.floor(Math.random()*h.board.length);h.receiveAttack(e,a),setTimeout((function(){if("attacked"===h.receiveAttack(e,a))S(!0),D("Computer Miss!");else{if(D("Computer Hits!"),w(!0),0===h.ships.length)return void T(!0);setTimeout((function(){t()}),500)}}),1e3)}};return Object(r.useEffect)((function(){K()}),[P]),Object(r.useEffect)((function(){w(!1)}),[k]),Object(r.useEffect)((function(){!1===J&&h.placeShip(),console.log("udpate")}),[h]),Object(n.jsx)("div",{children:a?Object(n.jsx)(o,{playGame:function(){c(!1),h.placeShip(),g.placeShip(),F(!1)}}):A?Object(n.jsx)(f,{player:P,newGame:function(){T(!1),c(!0),F(!0),q(!1),j(b(9,9)),v(b(9,9))}}):Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h1",{className:"center-align",children:P?"Player's Turn!":"Computer's Turn"}),Object(n.jsx)("p",{className:"center-align",children:R}),Object(n.jsxs)("div",{className:"board-grid",children:[Object(n.jsx)(d,{playerBoard:h.board,winner:A}),Object(n.jsx)(u,{computerBoard:g.board,winner:A,attack:function(t){if(P){z(!0);var e=t.target.getAttribute("data-col"),a=t.target.getAttribute("data-row");g.receiveAttack(e,a),"hit"===g.receiveAttack(e,a)?(D("Player Hit!"),w(!0),0===g.ships.length&&T(!0)):(D("Player Miss!"),S(!1))}}}),q?null:Object(n.jsx)(p,{randomizeShip:function(){!1===J&&(j(b(9,9)),w(!0))}})]})]})})};i.a.render(Object(n.jsx)(m,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.94aa370c.chunk.js.map