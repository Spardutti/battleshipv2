(this.webpackJsonpbattleshipv2=this.webpackJsonpbattleshipv2||[]).push([[0],{70:function(t,e,a){},71:function(t,e,a){"use strict";a.r(e);var r=a(2),i=a(0),n=a(13),c=a.n(n),s=a(7),o=(a(26),a(20),function(t){return Object(r.jsxs)("div",{className:"center-align welcome",children:[Object(r.jsx)("h1",{children:"Welcome"}),Object(r.jsx)("p",{children:"The goal of the game is to destroy all"}),Object(r.jsx)("p",{children:"of the enemy ships before he destroy yours!"}),Object(r.jsx)("p",{children:"if your attack hit, you can attack again."}),Object(r.jsx)("p",{children:"if you miss, its your oponent turn!"}),Object(r.jsx)("p",{children:"Good Luck, Have Fun!"}),Object(r.jsx)("button",{onClick:t.playGame,className:"waves-effect waves-light btn",children:"Play!"})]})}),h=function(t){return Object(r.jsxs)("div",{className:"parent center-align",children:[Object(r.jsx)("h3",{children:"Computer"}),Object(r.jsx)("div",{className:"grid-container",children:t.playerBoard.map((function(e,a){return Object(r.jsx)("div",{className:"center-align",children:e.map((function(e,i){return"sea"===t.playerBoard[a][i]?Object(r.jsx)("div",{"data-col":a,"data-row":i,onClick:t.attack,className:"squares ",children:"Sea"}):"object"===typeof t.playerBoard[a][i]?Object(r.jsx)("div",{"data-col":a,"data-row":i,className:"ship center-align",onClick:t.attack,children:"Ship"}):"hit"===t.playerBoard[a][i]?Object(r.jsx)("div",{"data-col":a,"data-row":i,className:"hit center-align",children:"hit"}):Object(r.jsx)("div",{"data-col":a,"data-row":i,className:"attacked center-align",children:"Att"})}))})}))})]})},l=function(t){return Object(r.jsxs)("div",{className:"parent center-align",children:[Object(r.jsx)("h3",{children:"Computer"}),Object(r.jsx)("div",{className:"grid-container",children:t.computerBoard.map((function(e,a){return Object(r.jsx)("div",{className:"center-align",children:e.map((function(e,i){return"sea"===t.computerBoard[a][i]?Object(r.jsx)("div",{"data-col":a,"data-row":i,onClick:t.attack,className:"squares ",children:"Sea"}):"object"===typeof t.computerBoard[a][i]?Object(r.jsx)("div",{"data-col":a,"data-row":i,className:"ship center-align",onClick:t.attack,children:"Ship"}):"hit"===t.computerBoard[a][i]?Object(r.jsx)("div",{"data-col":a,"data-row":i,className:"hit center-align",children:"hit"}):Object(r.jsx)("div",{"data-col":a,"data-row":i,className:"attacked center-align",children:"Att"})}))})}))})]})},d=function(t){return{hitPoints:new Array(t).fill("o"),hit:function(){var t=this.hitPoints.indexOf("o");return this.hitPoints[t]="x"},isSunk:function(){return!!this.hitPoints.every((function(t){return"x"===t}))}}},u=function(t,e){return{board:new Array(e).fill().map((function(){return new Array(t).fill("sea")})),ships:[d(3)],placeShip:function(){var t,e,a=this,r=!1,i=!0,n=Math.floor(10*Math.random());return this.ships.forEach((function(c,s){for(n>5&&(i=!1);!r;){if(i&&(t=Math.floor(Math.random()*(a.board.length-c.hitPoints.length)),e=Math.floor(Math.random()*a.board.length),"sea"===a.board[t][e])){for(var o=1,h=1;h<c.hitPoints.length;h++){if("sea"!==a.board[t+h][e])return r=!1;o++}if(o===c.hitPoints.length){for(var l=0;l<c.hitPoints.length;l++)a.board[t+l][e]=c;return r=!0}}if(i)return r=!1;if(t=Math.floor(Math.random()*a.board.length),e=Math.floor(Math.random()*(a.board.length-c.hitPoints.length)),"sea"===a.board[t][e]){for(var d=1,u=1;u<c.hitPoints.length;u++){if("sea"!==a.board[t][e+u])return r=!1;d++}if(d===c.hitPoints.length){for(var j=0;j<c.hitPoints.length;j++)a.board[t][e+j]=c;return r=!0}}}})),r},receiveAttack:function(t,e){if("sea"===this.board[t][e]&&(this.board[t][e]="attacked"),"object"===typeof this.board[t][e]){var a=this.board[t][e],r=this.ships.indexOf(a);if(this.board[t][e]="hit",this.ships[r].hit(),this.ships[r].isSunk()&&this.ships.splice(r,1),0===this.ships.length)return"winner"}return this.board[t][e]}}};a(70);var j=function(){var t=Object(i.useState)(!0),e=Object(s.a)(t,2),a=e[0],n=e[1],c=Object(i.useState)(u(9,9)),d=Object(s.a)(c,2),j=d[0],b=(d[1],Object(i.useState)(u(9,9))),f=Object(s.a)(b,2),p=f[0],m=(f[1],Object(i.useState)(!1)),O=Object(s.a)(m,2),g=O[0],v=O[1],x=Object(i.useState)(!0),k=Object(s.a)(x,2),y=k[0],w=k[1],N=Object(i.useState)(!1),S=Object(s.a)(N,2),M=S[0],P=S[1];return Object(i.useEffect)((function(){!function(){if(!y){var t=Math.floor(Math.random()*j.board.length),e=Math.floor(Math.random()*j.board.length);setTimeout((function(){j.receiveAttack(t,e),"hit"===j.receiveAttack(t,e)?(v(!0),0===j.ships.length&&P(!0)):w(!0)}),500)}}()}),[y]),Object(i.useEffect)((function(){v(!1)}),[g]),Object(r.jsx)("div",{children:a?Object(r.jsx)(o,{playGame:function(){n(!1),j.placeShip(),p.placeShip()}}):M?Object(r.jsx)("h1",{children:"Win"}):Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("h1",{className:"center-align",children:y?"Player's Turn!":"Computer's Turn"}),Object(r.jsxs)("div",{className:"board-grid",children:[Object(r.jsx)(h,{playerBoard:j.board,winner:M}),Object(r.jsx)(l,{computerBoard:p.board,winner:M,attack:function(t){if(y){var e=t.target.getAttribute("data-col"),a=t.target.getAttribute("data-row");p.receiveAttack(e,a),"hit"===p.receiveAttack(e,a)?(v(!0),0===p.ships.length&&P(!0)):w(!1)}}})]})]})})};c.a.render(Object(r.jsx)(j,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.bd154fde.chunk.js.map